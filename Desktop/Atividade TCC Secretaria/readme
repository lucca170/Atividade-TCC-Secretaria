# ğŸ“š Secretaria Web - Sistema de GestÃ£o Escolar

![Python](https://img.shields.io/badge/Python-3.13-blue?logo=python)
![Django](https://img.shields.io/badge/Django-5.0-green?logo=django)
![React](https://img.shields.io/badge/React-18-cyan?logo=react)
![Vite](https://img.shields.io/badge/Vite-Latest-purple?logo=vite)
![License](https://img.shields.io/badge/License-MIT-yellow)
![Status](https://img.shields.io/badge/Status-TCC%20Finalizado-brightgreen)

> **Secretaria Web** Ã© um sistema completo de gestÃ£o escolar desenvolvido como Trabalho de ConclusÃ£o de Curso (TCC). Uma plataforma moderna que integra administraÃ§Ã£o, pedagogia, recursos e disciplina em um Ãºnico portal.

## ğŸ“‹ Ãndice

- [VisÃ£o Geral](#visÃ£o-geral)
- [Funcionalidades Principais](#funcionalidades-principais)
- [Stack TecnolÃ³gico](#stack-tecnolÃ³gico)
- [Estrutura do Projeto](#estrutura-do-projeto)
- [Como Rodar Localmente](#como-rodar-localmente)
- [DocumentaÃ§Ã£o da API](#documentaÃ§Ã£o-da-api)
- [Modelos de Dados](#modelos-de-dados)
- [Guia de Desenvolvimento](#guia-de-desenvolvimento)
- [Testes](#testes)
- [Troubleshooting](#troubleshooting)
- [ContribuiÃ§Ã£o](#contribuiÃ§Ã£o)
- [Autores](#autores)

---

## ğŸ¯ VisÃ£o Geral

### O que Ã©?

Secretaria Web Ã© uma plataforma de gestÃ£o escolar **full-stack** que permite:

- âœ… Gerenciamento centralizado de usuÃ¡rios (alunos, professores, coordenadores, responsÃ¡veis)
- âœ… Controle acadÃªmico (turmas, disciplinas, notas, frequÃªncia)
- âœ… GestÃ£o de recursos (salas, laboratÃ³rios, materiais didÃ¡ticos)
- âœ… Sistema de disciplina (advertÃªncias, suspensÃµes)
- âœ… Biblioteca digital (catÃ¡logo de livros, emprÃ©stimos)
- âœ… AutenticaÃ§Ã£o segura com tokens JWT
- âœ… RecuperaÃ§Ã£o de senha por cÃ³digo de e-mail
- âœ… Dashboard interativo para cada tipo de usuÃ¡rio

### Arquitetura

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Frontend (React + Vite + Material-UI)       â”‚
â”‚              http://localhost:5173                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚ (HTTP/REST)
                       â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    Backend (Django + Django REST Framework)         â”‚
â”‚            http://localhost:8000                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Django Apps:                                â”‚   â”‚
â”‚  â”‚  â€¢ base (autenticaÃ§Ã£o)                      â”‚   â”‚
â”‚  â”‚  â€¢ pedagogico (academico)                   â”‚   â”‚
â”‚  â”‚  â€¢ coordenacao (recursos)                   â”‚   â”‚
â”‚  â”‚  â€¢ disciplinar (disciplina)                 â”‚   â”‚
â”‚  â”‚  â€¢ biblioteca (livros/emprÃ©stimos)          â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚ (ORM)
                       â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      Banco de Dados (SQLite / PostgreSQL)           â”‚
â”‚              db.sqlite3                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## âœ¨ Funcionalidades Principais

### ğŸ” 1. AutenticaÃ§Ã£o e SeguranÃ§a

- **Login por Token**: Sistema seguro baseado em tokens REST Framework
- **RecuperaÃ§Ã£o de Senha**: Fluxo completo com cÃ³digo de 6 dÃ­gitos enviado por e-mail
- **PermissÃµes Granulares**: Controle de acesso baseado em cargo do usuÃ¡rio
- **Cache de CÃ³digos**: Armazenamento temporÃ¡rio seguro de cÃ³digos de recuperaÃ§Ã£o

```
Cargos DisponÃ­veis:
â”œâ”€â”€ Administrador  â†’ Acesso total ao sistema
â”œâ”€â”€ Coordenador    â†’ GestÃ£o acadÃªmica e relatÃ³rios
â”œâ”€â”€ Professor      â†’ LanÃ§amento de notas e frequÃªncia
â”œâ”€â”€ Aluno          â†’ Acesso a boletim e biblioteca
â””â”€â”€ ResponsÃ¡vel    â†’ Acompanhamento de alunos
```

### ğŸ“Š 2. AdministraÃ§Ã£o e CoordenaÃ§Ã£o

| Funcionalidade | DescriÃ§Ã£o |
|---|---|
| **GestÃ£o de UsuÃ¡rios** | CRUD completo de alunos, professores, responsÃ¡veis |
| **Turmas** | Criar/editar turmas com perÃ­odo (manhÃ£, tarde, noite) |
| **MatÃ©rias** | Gerenciar disciplinas do currÃ­culo |
| **Disciplinas** | Oferecer matÃ©rias em turmas com mÃºltiplos professores |
| **Salas/LaboratÃ³rios** | Controle de espaÃ§os com capacidade |
| **Materiais DidÃ¡ticos** | InventÃ¡rio de recursos (livros, equipamentos) |
| **Eventos AcadÃªmicos** | Criar provas, trabalhos, feriados, reuniÃµes |
| **RelatÃ³rios** | Dashboard com KPIs escolares |

### ğŸ‘¨â€ğŸ« 3. MÃ³dulo Professor

- ğŸ“‹ **VisualizaÃ§Ã£o de Turmas**: Lista de alunos atribuÃ­dos
- ğŸ“ **LanÃ§amento de Notas**: Interface para registrar notas por disciplina e bimestre
- âœï¸ **LanÃ§amento de FrequÃªncia**: Registrar faltas de alunos
- ğŸ“… **Agenda**: Consultar planos de aula
- ğŸ›ï¸ **Reserva de Salas**: Reservar espaÃ§os com verificaÃ§Ã£o de conflitos

### ğŸ‘¦ 4. MÃ³dulo Aluno

- ğŸ  **Dashboard**: PÃ¡gina inicial personalizada
- ğŸ“Š **Boletim/RelatÃ³rio**: Notas, faltas, desempenho por disciplina
- ğŸ“¥ **HistÃ³rico Disciplinar**: Visualizar advertÃªncias e suspensÃµes
- ğŸ“š **Biblioteca**: Consultar livros e fazer emprÃ©stimos
- ğŸ“– **Meus EmprÃ©stimos**: Acompanhar devoluÃ§Ãµes
- ğŸ“… **CalendÃ¡rio AcadÃªmico**: Ver eventos e prazos

### ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ 5. MÃ³dulo ResponsÃ¡vel

- ğŸ‘¶ **Meus Alunos**: Lista de filhos/dependentes
- ğŸ“ˆ **RelatÃ³rio do Aluno**: Acesso ao boletim e desempenho
- ğŸ”” **NotificaÃ§Ãµes**: Alertas automÃ¡ticos (faltas, notas, eventos)

---

## ğŸ› ï¸ Stack TecnolÃ³gico

### Backend
```
Framework:          Django 5.0
API REST:           Django REST Framework
AutenticaÃ§Ã£o:       Token Authentication
CORS:               django-cors-headers
Admin UI:           Jazzmin
RelatÃ³rios PDF:     xhtml2pdf
Banco de Dados:     SQLite (dev) / PostgreSQL (prod)
Cache:              Django Cache Framework
Email:              Django Mail Backend
```

### Frontend
```
Biblioteca:         React 18
Build Tool:         Vite
UI Components:      Material-UI (MUI)
RequisiÃ§Ãµes:        Axios
CalendÃ¡rio:         FullCalendar
Estado:             Context API / Hooks
CSS:                CSS Modules + MUI Theming
```

### DevOps & Deployment
```
Versionamento:      Git/GitHub
CI/CD:              (Pronto para GitHub Actions)
ContainerizaÃ§Ã£o:    (Dockerfiles inclusos)
Servidor:           Gunicorn (produÃ§Ã£o)
```

---

## ğŸ“ Estrutura do Projeto

```
Projeto Secretaria Lucas/
â”‚
â”œâ”€â”€ escola/                          # Backend Django
â”‚   â”œâ”€â”€ manage.py                    # Gerenciador Django
â”‚   â”œâ”€â”€ db.sqlite3                   # Banco de dados (desenvolvimento)
â”‚   â”‚
â”‚   â”œâ”€â”€ escola/
â”‚   â”‚   â”œâ”€â”€ settings.py              # âœ… ConfiguraÃ§Ãµes Django
â”‚   â”‚   â”œâ”€â”€ urls.py                  # Rotas principais
â”‚   â”‚   â”œâ”€â”€ wsgi.py                  # WSGI application
â”‚   â”‚   â””â”€â”€ __pycache__/
â”‚   â”‚
â”‚   â”œâ”€â”€ base/                        # ğŸ” AutenticaÃ§Ã£o
â”‚   â”‚   â”œâ”€â”€ models.py                # âœ… Usuario (customizado)
â”‚   â”‚   â”œâ”€â”€ forms.py                 # âœ… CustomUserCreationForm, CustomUserChangeForm
â”‚   â”‚   â”œâ”€â”€ admin.py                 # âœ… UsuarioAdmin
â”‚   â”‚   â”œâ”€â”€ views.py                 # âœ… Home, Registrar, UserViewSet, Login, Password Reset
â”‚   â”‚   â”œâ”€â”€ serializers.py           # âœ… UserSerializer, CustomAuthTokenSerializer
â”‚   â”‚   â”œâ”€â”€ urls.py                  # âœ… Rotas REST
â”‚   â”‚   â”œâ”€â”€ tests.py                 # âœ… 5 testes automatizados
â”‚   â”‚   â””â”€â”€ migrations/
â”‚   â”‚
â”‚   â”œâ”€â”€ pedagogico/                  # ğŸ“š GestÃ£o AcadÃªmica
â”‚   â”‚   â”œâ”€â”€ models.py                # âœ… 12 modelos (Aluno, Turma, Nota, etc)
â”‚   â”‚   â”œâ”€â”€ forms.py
â”‚   â”‚   â”œâ”€â”€ views.py
â”‚   â”‚   â”œâ”€â”€ admin.py
â”‚   â”‚   â”œâ”€â”€ serializers.py
â”‚   â”‚   â”œâ”€â”€ urls.py
â”‚   â”‚   â””â”€â”€ migrations/
â”‚   â”‚
â”‚   â”œâ”€â”€ coordenacao/                 # ğŸ›ï¸ Recursos
â”‚   â”‚   â”œâ”€â”€ models.py                # âœ… MaterialDidatico, SalaLaboratorio, etc
â”‚   â”‚   â”œâ”€â”€ admin.py
â”‚   â”‚   â”œâ”€â”€ views.py
â”‚   â”‚   â””â”€â”€ migrations/
â”‚   â”‚
â”‚   â”œâ”€â”€ disciplinar/                 # âš ï¸ Disciplina
â”‚   â”‚   â”œâ”€â”€ models.py                # âœ… Advertencia, Suspensao
â”‚   â”‚   â””â”€â”€ migrations/
â”‚   â”‚
â”‚   â””â”€â”€ biblioteca/                  # ğŸ“– Livros
â”‚       â”œâ”€â”€ models.py                # âœ… Livro, Emprestimo, Autor
â”‚       â””â”€â”€ migrations/
â”‚
â”œâ”€â”€ frontend/                        # Frontend React
â”‚   â”œâ”€â”€ package.json                 # DependÃªncias Node.js
â”‚   â”œâ”€â”€ vite.config.js               # ConfiguraÃ§Ã£o Vite
â”‚   â”œâ”€â”€ index.html
â”‚   â”‚
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ main.jsx                 # Ponto de entrada
â”‚   â”‚   â”œâ”€â”€ App.jsx                  # Componente raiz
â”‚   â”‚   â”œâ”€â”€ index.css
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ components/              # Componentes reutilizÃ¡veis
â”‚   â”‚   â”‚   â”œâ”€â”€ Layout.jsx
â”‚   â”‚   â”‚   â”œâ”€â”€ EditarNotasModal.jsx
â”‚   â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ pages/                   # PÃ¡ginas (rotas)
â”‚   â”‚   â”‚   â”œâ”€â”€ Login.jsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Dashboard.jsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Alunos.jsx
â”‚   â”‚   â”‚   â”œâ”€â”€ LancarNotas.jsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Biblioteca.jsx
â”‚   â”‚   â”‚   â”œâ”€â”€ PortalResponsavel.jsx
â”‚   â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ hooks/                   # Hooks customizados
â”‚   â”‚       â””â”€â”€ useAuth.js
â”‚   â”‚
â”‚   â””â”€â”€ public/                      # Assets estÃ¡ticos
â”‚
â”œâ”€â”€ DOCUMENTACAO_COMENTARIOS.md      # ğŸ“– DocumentaÃ§Ã£o de cÃ³digo (11 seÃ§Ãµes)
â”œâ”€â”€ readme                           # Este arquivo
â””â”€â”€ .gitignore
```

**Arquivos Comentados**: âœ… Todos os modelos, formulÃ¡rios, views, serializers e configuraÃ§Ãµes foram documentados com explicaÃ§Ãµes detalhadas.

---

## ğŸš€ Como Rodar Localmente

### PrÃ©-requisitos

```
âœ… Python 3.13+
âœ… Node.js 18+  (npm)
âœ… Git
âœ… Terminal (cmd, bash, PowerShell)
```

### 1ï¸âƒ£ Clone o RepositÃ³rio

```bash
git clone https://github.com/lucca170/Atividade-TCC-Secretaria.git
cd "Projeto Secretaria Lucas"
```

### 2ï¸âƒ£ Configure o Backend (Terminal 1)

```bash
# Navegue para a pasta do backend
cd escola

# Crie ambiente virtual
python -m venv venv

# Ative o ambiente virtual
# Windows:
.\venv\Scripts\activate
# macOS/Linux:
source venv/bin/activate

# Instale dependÃªncias
pip install -r requirements.txt
# Ou manualmente:
pip install django djangorestframework django-cors-headers djangorestframework-authtoken jazzmin xhtml2pdf

# Aplique migraÃ§Ãµes
python manage.py migrate

# Crie superuser (admin)
python manage.py createsuperuser
# Digite: username, email, password (2x)

# Rode servidor backend
python manage.py runserver
# Acesso: http://localhost:8000
# Admin:  http://localhost:8000/admin
```

### 3ï¸âƒ£ Configure o Frontend (Terminal 2)

```bash
# Navegue para frontend (a partir da raiz)
cd frontend

# Instale dependÃªncias
npm install

# Rode servidor frontend
npm run dev
# Acesso: http://localhost:5173
```

### 4ï¸âƒ£ Acesse o Sistema

```
ğŸ”— Frontend:  http://localhost:5173
ğŸ”— Backend:   http://localhost:8000
ğŸ”— Admin:     http://localhost:8000/admin
```

**Login**: Use o superuser criado no passo 2.

---

## ğŸ“¡ DocumentaÃ§Ã£o da API

### AutenticaÃ§Ã£o

#### Login (Obter Token)
```http
POST /api/login/
Content-Type: application/json

{
  "username": "usuario",
  "password": "senha123"
}

Response (200):
{
  "token": "abc123xyz...",
  "user": {
    "id": 1,
    "username": "usuario",
    "email": "user@example.com",
    "cargo": "professor",
    "first_name": "JoÃ£o",
    "last_name": "Silva"
  }
}
```

#### Usar Token em RequisiÃ§Ãµes
```http
GET /api/users/
Authorization: Token abc123xyz...
```

### Endpoints Principais

| MÃ©todo | Endpoint | DescriÃ§Ã£o | PermissÃ£o |
|--------|----------|-----------|-----------|
| GET | `/api/users/` | Listar usuÃ¡rios | IsAuthenticated |
| POST | `/api/users/` | Criar usuÃ¡rio | IsCoordenacao |
| GET | `/api/users/<id>/` | Detalhes de usuÃ¡rio | IsAuthenticated |
| PUT | `/api/users/<id>/` | Atualizar usuÃ¡rio | IsAuthenticated |
| DELETE | `/api/users/<id>/` | Deletar usuÃ¡rio | IsCoordenacao |
| GET | `/api/users/me/` | Dados do usuÃ¡rio logado | IsAuthenticated |
| GET | `/api/dashboard/` | Dados do dashboard | IsCoordenacao |
| POST | `/api/password-reset/` | Solicitar cÃ³digo | AllowAny |
| POST | `/api/password-reset-login/` | Login com cÃ³digo | AllowAny |

### RecuperaÃ§Ã£o de Senha (Fluxo Completo)

```http
# 1. Solicitar cÃ³digo
POST /api/password-reset/
{
  "email": "usuario@example.com"
}

# 2. UsuÃ¡rio recebe cÃ³digo por e-mail (6 dÃ­gitos)
# CÃ³digo vÃ¡lido por 10 minutos

# 3. Fazer login com cÃ³digo
POST /api/password-reset-login/
{
  "email": "usuario@example.com",
  "code": "123456"
}

Response (200):
{
  "token": "novo_token...",
  "user": { ... }
}
```

### Filtros

```http
# Filtrar usuÃ¡rios por cargo
GET /api/users/?cargo=professor

GET /api/users/?cargo=aluno
```

---

## ğŸ—„ï¸ Modelos de Dados

### Base (AutenticaÃ§Ã£o)

**Usuario** (AbstractUser)
```python
- id (auto)
- username (unique)
- email (unique, required)
- password (hashed)
- first_name, last_name
- cargo (professor, aluno, coordenador, diretor, ti, responsavel, administrador)
- is_active, is_staff, is_superuser
```

### Pedagogico (AcadÃªmico)

**Turma**
```python
- id, nome, turno (manha, tarde, noite)
```

**Materia**
```python
- id, nome (unique)
```

**Disciplina** (Oferta)
```python
- id, materia_id, turma_id, carga_horaria
- professores (ManyToMany)
- Constraint: unique(materia, turma)
```

**Aluno**
```python
- id, usuario_id (OneToOne), turma_id
- status (ativo, inativo, evadido, transferido, concluido)
```

**Nota**
```python
- id, aluno_id, disciplina_id, bimestre, valor (decimal)
- Constraint: unique(aluno, disciplina, bimestre)
```

**Falta**
```python
- id, aluno_id, disciplina_id, data, justificada (bool)
```

**Responsavel**
```python
- id, usuario_id (OneToOne)
- alunos (ManyToMany)
```

**EventoAcademico**
```python
- id, titulo, data_inicio, data_fim, tipo, descricao
- turma_id (nullable), disciplina_id (nullable)
```

**PlanoDeAula**
```python
- id, disciplina_id, data, conteudo_previsto, atividades
- Constraint: unique(disciplina, data)
```

**Notificacao**
```python
- id, destinatario_id, mensagem, data_envio (auto), lida (bool)
```

### CoordenaÃ§Ã£o (Recursos)

**MaterialDidatico**
```python
- id, nome, tipo, quantidade, disponivel (bool)
```

**SalaLaboratorio**
```python
- id, nome, tipo, capacidade
```

**ReservaSala**
```python
- id, sala_id, usuario_id, data_inicio, data_fim
```

### Disciplinar

**Advertencia**
```python
- id, aluno_id, data, motivo
```

**Suspensao**
```python
- id, aluno_id, data_inicio, data_fim, motivo
```

### Biblioteca

**Livro**
```python
- id, titulo, autor_id, isbn, quantidade_total, quantidade_disponivel
```

**Emprestimo**
```python
- id, livro_id, aluno_id, data_emprestimo, data_devolucao_prevista, data_devolucao_real
- PadrÃ£o: devoluÃ§Ã£o em 14 dias
```

---

## ğŸ’» Guia de Desenvolvimento

### Estrutura de uma App Django

```
app_name/
â”œâ”€â”€ models.py      # Definir modelos (comentado)
â”œâ”€â”€ admin.py       # Interface de admin
â”œâ”€â”€ views.py       # LÃ³gica de negÃ³cio (comentado)
â”œâ”€â”€ urls.py        # Rotas (comentado)
â”œâ”€â”€ forms.py       # FormulÃ¡rios Django (comentado)
â”œâ”€â”€ serializers.py # Serializadores DRF (comentado)
â”œâ”€â”€ permissions.py # PermissÃµes customizadas
â”œâ”€â”€ tests.py       # Testes unitÃ¡rios
â””â”€â”€ migrations/    # HistÃ³rico de mudanÃ§as no banco
```

### Criar Nova Feature

```bash
# 1. Definir modelo em models.py
class MeuModelo(models.Model):
    ...

# 2. Criar migraÃ§Ã£o
python manage.py makemigrations

# 3. Aplicar migraÃ§Ã£o
python manage.py migrate

# 4. Registrar no admin (admin.py)
admin.site.register(MeuModelo, MeuModeloAdmin)

# 5. Criar serializer (serializers.py)
class MeuModeloSerializer(serializers.ModelSerializer):
    ...

# 6. Criar viewset (views.py)
class MeuModeloViewSet(viewsets.ModelViewSet):
    queryset = MeuModelo.objects.all()
    serializer_class = MeuModeloSerializer

# 7. Registrar rota (urls.py)
router.register(r'meumodelo', MeuModeloViewSet, basename='meumodelo')

# 8. Testar (tests.py)
class MeuModeloTests(TestCase):
    ...
```

### Boas PrÃ¡ticas

âœ… **DO:**
- Comentar cÃ³digo com docstrings
- Usar migrations para alteraÃ§Ãµes no banco
- Criar testes para novas features
- Usar permissÃµes customizadas
- Validar dados nos formulÃ¡rios

âŒ **DON'T:**
- Fazer queries sem select_related/prefetch_related
- Deixar tokens em variÃ¡veis globais
- Colocar lÃ³gica no template
- Criar super users com senhas simples
- Commitar dados sensÃ­veis no repositÃ³rio

---

## âœ… Testes

### Rodar Todos os Testes

```bash
python manage.py test
```

### Rodar Testes de um App

```bash
python manage.py test escola.base
python manage.py test escola.base.tests
```

### Rodar Teste EspecÃ­fico

```bash
python manage.py test escola.base.tests.AdminIntegrationTests.test_admin_can_add_user
```

### Testes Inclusos (base)

âœ… `test_custom_user_creation_form_valid` - Criar usuÃ¡rio com form
âœ… `test_duplicate_email_invalid` - Rejeitar email duplicado
âœ… `test_admin_can_add_user` - Criar via admin
âœ… `test_admin_cannot_add_user_with_duplicate_email` - Email duplicado no admin
âœ… `test_admin_missing_password_shows_error` - Senha obrigatÃ³ria no admin

**Resultado**: 5/5 testes passando âœ…

### Cobertura de Testes

```bash
pip install coverage
coverage run --source='.' manage.py test
coverage report
coverage html  # Gera relatÃ³rio em htmlcov/
```

---

## ğŸ› Troubleshooting

### Erro: "Add user" no Django Admin falha

**SoluÃ§Ã£o**: JÃ¡ corrigido! O arquivo `admin.py` usa nomes corretos:
```python
'fields': ('username', 'email', 'first_name', 'last_name', 'cargo', 'password1', 'password2')
```

### Erro: CORS bloqueado no Frontend

**SoluÃ§Ã£o**: Verifique `settings.py`:
```python
CORS_ALLOWED_ORIGINS = ["http://localhost:5173"]
```

### Erro: "ModuleNotFoundError: No module named 'xyz'"

**SoluÃ§Ã£o**: Instale dependÃªncias:
```bash
pip install -r requirements.txt
```

### Erro: Banco de dados nÃ£o existe

**SoluÃ§Ã£o**: Aplique migraÃ§Ãµes:
```bash
python manage.py migrate
```

### Erro: Superuser jÃ¡ existe

**SoluÃ§Ã£o**: Delete o banco e recriar:
```bash
rm db.sqlite3
python manage.py migrate
python manage.py createsuperuser
```

### Frontend nÃ£o conecta ao backend

**SoluÃ§Ã£o**: Verifique URLs:
```javascript
// frontend/src/api.js (ou similar)
const API_URL = "http://localhost:8000/api";
```

---

## ğŸ“ DocumentaÃ§Ã£o Adicional

### DocumentaÃ§Ã£o de CÃ³digo

Veja `DOCUMENTACAO_COMENTARIOS.md` para:
- âœ… ExplicaÃ§Ã£o detalhada de cada modelo
- âœ… DocumentaÃ§Ã£o de views e endpoints
- âœ… Exemplos de uso da API
- âœ… Estrutura de classes e mÃ©todos
- âœ… Relacionamentos entre modelos

### Endpoints Completos

Veja `DOCUMENTACAO_COMENTARIOS.md` seÃ§Ã£o "DocumentaÃ§Ã£o da API" para lista completa.

---

## ğŸ¤ ContribuiÃ§Ã£o

ContribuiÃ§Ãµes sÃ£o bem-vindas! Para contribuir:

1. **Fork** o repositÃ³rio
2. **Crie uma branch** (`git checkout -b feature/minha-feature`)
3. **Commit** mudanÃ§as (`git commit -m 'Add minha-feature'`)
4. **Push** para a branch (`git push origin feature/minha-feature`)
5. **Abra um Pull Request**

### Diretrizes

- CÃ³digo deve estar comentado
- Adicione testes para novas features
- Siga o padrÃ£o de cÃ³digo existente
- Atualize documentaÃ§Ã£o se necessÃ¡rio

---

## ğŸ“„ LicenÃ§a

Este projeto estÃ¡ licenciado sob a **MIT License** - veja o arquivo LICENSE para detalhes.

---

## ğŸ‘¥ Autores

- **Desenvolvedor(a) Principal**: Gustavo Lucca, Gabriel Vinhal e Kayo 
- **OrganizaÃ§Ã£o**: SESI Garavelo
- **Data**: Novembro de 2025

### Contato

- ğŸ“§ Email: seu-email@example.com
- ğŸ™ GitHub: github.com/lucca170/Atividade-TCC-Secretaria
- ğŸ’¬ Issues: Use a aba Issues no GitHub

---

## ğŸ“Š EstatÃ­sticas do Projeto

| MÃ©trica | Valor |
|---------|-------|
| **Linhas de CÃ³digo** | ~5000+ |
| **Modelos Django** | 12+ |
| **Endpoints API** | 20+ |
| **PÃ¡ginas React** | 15+ |
| **Testes** | 5 |
| **Tempo de Desenvolvimento** | TCC |

---

## ğŸ“ O que VocÃª AprenderÃ¡

Estudando este projeto, vocÃª entenderÃ¡:

- âœ… Arquitetura full-stack (Frontend + Backend)
- âœ… Django e Django REST Framework
- âœ… React com Vite
- âœ… AutenticaÃ§Ã£o com Tokens
- âœ… PermissÃµes e controle de acesso
- âœ… Modelagem de banco de dados relacional
- âœ… API RESTful design
- âœ… Testes automatizados
- âœ… Boas prÃ¡ticas de desenvolvimento

---

## ğŸ”® Roadmap Futuro

- [ ] Implementar testes E2E (Cypress/Playwright)
- [ ] Configurar CI/CD (GitHub Actions)
- [ ] Deploy em Heroku/Railway
- [ ] Adicionar WebSockets para notificaÃ§Ãµes em tempo real
- [ ] Implementar 2FA (autenticaÃ§Ã£o dupla)
- [ ] Adicionar suporte a mÃºltiplas escolas (multi-tenant)
- [ ] Mobile app (React Native)
- [ ] Exportar relatÃ³rios avanÃ§ados (Excel, PDF)

---

## ğŸ“ Suporte

Tem dÃºvidas ou encontrou um bug?

1. **Consulte a documentaÃ§Ã£o**: `DOCUMENTACAO_COMENTARIOS.md`
2. **Abra uma issue** no GitHub
3. **Entre em contato** via email

---

## âœ¨ Agradecimentos

- Django e comunidade Django
- React e React community
- Material-UI pelos componentes
- StackOverflow pela ajuda durante o desenvolvimento

---

**Feito com â¤ï¸ como Trabalho de ConclusÃ£o de Curso**

**Status**: âœ… Completado e documentado (11 de novembro de 2025 as 23:43)